

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reference on jhuki.grid &#8212; Jhuki 0.1.0-dev7 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reference on jhuki.simfactory" href="simfactory_ref.html" />
    <link rel="prev" title="Reference on jhuki.parfile" href="parfile_ref.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simfactory_ref.html" title="Reference on jhuki.simfactory"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="parfile_ref.html" title="Reference on jhuki.parfile"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jhuki 0.1.0-dev7 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Reference on jhuki.grid</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-jhuki.grid">
<span id="reference-on-jhuki-grid"></span><h1>Reference on jhuki.grid<a class="headerlink" href="#module-jhuki.grid" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#module-jhuki.grid" title="jhuki.grid"><code class="xref py py-mod docutils literal notranslate"><span class="pre">grid</span></code></a> module provides infrastructure to work with the grid
structure of a simulation.</p>
<p>The module provides a class <a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a> which contains all
information for the refinement structure around a given refinement center. One
or more <a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a> objects form a <a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>, which
has the entire information on a computational grid. The object can produce
parfile code or can be printed to give an overview of the grid structure.</p>
<p>One of the most important functions provided in this module is
<a class="reference internal" href="#jhuki.grid.set_dt_max_grid" title="jhuki.grid.set_dt_max_grid"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_dt_max_grid()</span></code></a>. The function takes two arguments: a
<a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> and the maximum timestep that you want the grid to have. The
return value is a new <a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> which is identical to the input one,
with the exception that the timestep of the outermost refinement levels is
synced so that the maximum timestep on the grid is the one you provided. This
function is important because it can be used to produce grids that satisfy CFL
conditions (like the ones due to damp_lorenz or eta_beta).</p>
<p>Another useful function is <a class="reference internal" href="#jhuki.grid.create_twopunctures_grid" title="jhuki.grid.create_twopunctures_grid"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_twopunctures_grid()</span></code></a>, which takes a
<a class="reference internal" href="twopunctures_ref.html#jhuki.twopunctures.TwoPunctures" title="jhuki.twopunctures.TwoPunctures"><code class="xref py py-class docutils literal notranslate"><span class="pre">TwoPunctures</span></code></a> and returns a grid built on top of it.</p>
<p>Warning: at the moment we only support grids in which the three dimensions are
the same in resolution and extent.</p>
<dl class="py class">
<dt id="jhuki.grid.Grid">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">jhuki.grid.</span></code><code class="sig-name descname"><span class="pre">Grid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refinement_centers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_boundary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_ghost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflection_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiny_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jhuki/grid.html#Grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jhuki.grid.Grid" title="Permalink to this definition">¶</a></dt>
<dd><p>A grid is a collection of <a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a> objects. For example,
a binary black hole simulation will likely have two
<a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a>, centered each black hole.</p>
<p>This class immutable.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outer_boundary</strong> (<em>float</em><em> or </em><em>None</em>) – Radius of the outer boundary of the overall grid. We
assume that it is the same for the three directions.</p></li>
<li><p><strong>num_levels_with_dt_coarse</strong> (<em>int</em>) – How many refinement levels should have the
same dt as the coarsest refinement level.
This will translate to
Carpet::time_refinement_factors. The
minimum is 1 (the coarsest level itself).
This is extracted from the refinement center
with the most number of levels.</p></li>
<li><p><strong>max_num_refinement_levels</strong> (<em>int</em>) – Maximum number of refinement levels on the
grid.</p></li>
<li><p><strong>refinement_centers</strong> (list or tuple of <a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a>) – Input list, sorted by <code class="docutils literal notranslate"><span class="pre">center_num</span></code>.</p></li>
<li><p><strong>dx_coarse</strong> (<em>float</em>) – Resolution on the coarsest level.</p></li>
<li><p><strong>dt_coarse</strong> (<em>float</em>) – Timestep on the coarsest level.</p></li>
<li><p><strong>cfl_coarse</strong> (<em>float</em>) – Courant factor on the coarsest level.</p></li>
<li><p><strong>center_with_most_levels</strong> (<a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a>) – Refinement center that has the largest number of
levels.</p></li>
<li><p><strong>reflection_axis</strong> (<em>str</em><em>, or </em><em>None</em>) – If None, reflection symmetry is not enabled.
If ‘x’, ‘y’, or ‘z’, enable reflection symmetry
along that axis. If ‘xy’, ‘yz’, or ‘xz’, enable
reflection symmetry along two axis. If ‘xyz’, enable
octant symmetry.</p></li>
<li><p><strong>num_ghost</strong> (<em>int</em>) – Number of ghost zones.</p></li>
</ul>
</dd>
</dl>
<p>Constructor.</p>
<p>The different refinement centers that form a grid must be compatible.
They must have different <code class="docutils literal notranslate"><span class="pre">center_num</span></code> (as they identify different
refinement centers) and compatible resolutions and timesteps in the
outer levels. They can have different number of levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refinement_centers</strong> (list or tuple of <a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a>) – List of mesh refinements corresponding to
the various different centers.</p></li>
<li><p><strong>reflection_axis</strong> – If None, reflection symmetry is not enabled.
If ‘x’, ‘y’, or ‘z’, enable reflection symmetry
along that axis. If ‘xy’, ‘yz’, or ‘xz’, enable
reflection symmetry along two axis. If ‘xyz’,
enable octant symmetry.</p></li>
<li><p><strong>tiny_shift</strong> (<em>bool</em>) – Apply a tiny (subpixel) shift to the outer boundary so
that the point (0,0,0) is not on the grid. This is
hard-coded to be 1/7 of a pixel.</p></li>
<li><p><strong>num_ghost</strong> (<em>int</em>) – Number of ghost zones.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>outer_boundary</strong> (<em>float</em><em> or </em><em>None</em>) – Radius of the outer boundary of the overall grid.
We assume that it is the same for the three
directions.</p>
</dd>
</dl>
<dl class="py method">
<dt id="jhuki.grid.Grid.parfile_code">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">parfile_code</span></code><a class="headerlink" href="#jhuki.grid.Grid.parfile_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the code you would put in your parfile.</p>
</dd></dl>

<dl class="py method">
<dt id="jhuki.grid.Grid.rl_synced_every">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">rl_synced_every</span></code><a class="headerlink" href="#jhuki.grid.Grid.rl_synced_every" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations at which all the refinement levels are at the
same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="jhuki.grid.Grid.time_refinement_factors">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">time_refinement_factors</span></code><a class="headerlink" href="#jhuki.grid.Grid.time_refinement_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parameters for Carpet to set up time_refinement_factors.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="jhuki.grid.RefinementCenter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">jhuki.grid.</span></code><code class="sig-name descname"><span class="pre">RefinementCenter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refinement_radii</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx_fine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfl_fine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_levels_with_dt_coarse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jhuki/grid.html#RefinementCenter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jhuki.grid.RefinementCenter" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a> class contains all the information related
to the grid structure around one single refinement center. This is not the
entire grid structure for a simulation (unless you have only one refinement
center).</p>
<p>This class is immutable.</p>
<p>To understand this class always keep in mind the following example, where we
draw a simple grid with three refinement levels (two refinement radii). The
numbers 500, 250, 125, 0 are hypothetical refinement radii that you would
put in CarpetRegrid.</p>
<p>..code-block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">|------------------|------------------|------------------|</span>
<span class="mi">500</span>                <span class="mi">250</span>                <span class="mi">125</span>                 <span class="mi">0</span>
<span class="n">O</span><span class="o">.</span><span class="n">B</span><span class="o">.</span>             <span class="n">R</span><span class="o">.</span><span class="n">R</span><span class="o">.</span> <span class="mi">1</span>             <span class="n">R</span><span class="o">.</span><span class="n">R</span><span class="o">.</span> <span class="mi">2</span>
       <span class="n">R</span><span class="o">.</span><span class="n">L</span><span class="o">.</span> <span class="mi">0</span>              <span class="n">R</span><span class="o">.</span><span class="n">L</span><span class="o">.</span> <span class="mi">1</span>             <span class="n">R</span><span class="o">.</span><span class="n">L</span><span class="o">.</span> <span class="mi">2</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refinement_radii</strong> (<em>list of float</em>) – Radii over which a change in refinement happens.
This is what you would write in CarpetRegrid.
Refinement levels are always stored from the largest
to the smallest (as in Carpet).</p></li>
<li><p><strong>center_num</strong> (<em>int</em>) – Identifier of the current mesh refinement hierarchy in the
context of the entire grid. In CarpetRegrid, you specify
num_centers, then each hierarchy is identified with
numbers from 1 to num_centers. This is that number.</p></li>
<li><p><strong>position</strong> (<em>list</em><em> or </em><em>tuple of float</em>) – (x, y, z) position of the refinement center in the overall
grid.</p></li>
<li><p><strong>dx_fine</strong> (<em>float</em>) – Resolution at the finest level (near the center).
We assume that the three directions have the same resolution.</p></li>
<li><p><strong>cfl_fine</strong> (<em>float</em>) – CFL number at the finest level (near the center).
This is dt_finest/dx_finest.</p></li>
<li><p><strong>dt_fine</strong> (<em>float</em>) – Timestep at the finest level (near the center).</p></li>
<li><p><strong>num_levels_with_dt_coarse</strong> (<em>int</em>) – How many refinement levels should have the
same dt as the coarsest refinement level.
This will translate to
Carpet::time_refinement_factors. The
minimum is 1 (the coarsest level itself).</p></li>
<li><p><strong>num_refinement_radii</strong> (<em>int</em>) – Number of radii over which a change in
refinement happens. This is not the number of
refinement levels (while the two are off by
one). This is the number of radii in
CarpetRegrid.</p></li>
<li><p><strong>num_refinement_levels</strong> (<em>int</em>) – Number of distinct refinement levels. This is
the same as the number of different resolutions
over a grid and it is equal to the number of
refinement radii + 1.</p></li>
</ul>
</dd>
</dl>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refinement_radii</strong> (<em>list of float</em>) – Radii over which a change in refinement happens.
This is what you would write in CarpetRegrid.</p></li>
<li><p><strong>center_num</strong> (<em>int</em>) – Identifier of the current mesh refinement hierarchy
in the context of the entire grid. In CarpetRegrid,
you specify num_centers, then each hierarchy is
identified with numbers from 1 to num_centers. This
is that number.</p></li>
<li><p><strong>position</strong> (<em>list</em><em> or </em><em>tuple of float</em>) – (x, y, z) position of the refinement center in the
overall grid.</p></li>
<li><p><strong>dx_fine</strong> (<em>float</em>) – Resolution at the finest level (near the center).
We assume that the three directions have the same
resolution.</p></li>
<li><p><strong>cfl_fine</strong> (<em>float</em>) – CFL number at the finest level (near the center).
This is dt_finest/dx_finest.</p></li>
<li><p><strong>num_levels_with_dt_coarse</strong> (<em>int</em>) – How many refinement levels should have
the same dt as the coarsest refinement
level. This will translate to
Carpet::time_refinement_factors. The
minimum is 1 (the coarsest level itself).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="jhuki.grid.RefinementCenter.cfl">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cfl</span></code><a class="headerlink" href="#jhuki.grid.RefinementCenter.cfl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dt/dx at every level.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Courant factor on every refinement level.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="jhuki.grid.RefinementCenter.dt">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">dt</span></code><a class="headerlink" href="#jhuki.grid.RefinementCenter.dt" title="Permalink to this definition">¶</a></dt>
<dd><p>Timesteps at each refinement level.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="jhuki.grid.RefinementCenter.dx">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">dx</span></code><a class="headerlink" href="#jhuki.grid.RefinementCenter.dx" title="Permalink to this definition">¶</a></dt>
<dd><p>Grid spacing at each refinement level.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="jhuki.grid.RefinementCenter.get_summary">
<code class="sig-name descname"><span class="pre">get_summary</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outer_boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9999.999</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jhuki/grid.html#RefinementCenter.get_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jhuki.grid.RefinementCenter.get_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a summary of all the refinement levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>outer_boundary</strong> (<em>float</em><em> or </em><em>None</em>) – Outer boundary of the grid. Used only for the
aesthetics of having a table full of data. If
None, a large number full of nines will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="jhuki.grid.RefinementCenter.parfile_code">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">parfile_code</span></code><a class="headerlink" href="#jhuki.grid.RefinementCenter.parfile_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the code you would put in your parfile.</p>
</dd></dl>

<dl class="py method">
<dt id="jhuki.grid.RefinementCenter.rl_synced_every">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">rl_synced_every</span></code><a class="headerlink" href="#jhuki.grid.RefinementCenter.rl_synced_every" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations at which all the refinement levels are at the
same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="jhuki.grid.create_twopunctures_grid">
<code class="sig-prename descclassname"><span class="pre">jhuki.grid.</span></code><code class="sig-name descname"><span class="pre">create_twopunctures_grid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">two_punctures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_on_horizon_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_outer_boundary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfl_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.45</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizon_padding_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jhuki/grid.html#create_twopunctures_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jhuki.grid.create_twopunctures_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a grid centered around a given two punctures.</p>
<p>The grid has three identical refinement centers: two on the punctures and
one in the center.</p>
<p>The construction of the grid starts by estimating the horizon radius. Then,
the horizon is covered with <code class="docutils literal notranslate"><span class="pre">points_on_horizon_radius</span></code>. From there,
refinement levels are added until the <code class="docutils literal notranslate"><span class="pre">minimum_outer_boundary</span></code> is reached.</p>
<p>This function does nothing fancy about the mass ratio: it simply considers
the smaller horizon and creates the grid starting from there.</p>
<p>Unknown arguments are passed to the constructor of <a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>two_punctures</strong> (<a class="reference internal" href="twopunctures_ref.html#jhuki.twopunctures.TwoPunctures" title="jhuki.twopunctures.TwoPunctures"><code class="xref py py-class docutils literal notranslate"><span class="pre">TwoPunctures</span></code></a> or
<a class="reference internal" href="twochargedpunctures_ref.html#jhuki.twochargedpunctures.TwoChargedPunctures" title="jhuki.twochargedpunctures.TwoChargedPunctures"><code class="xref py py-class docutils literal notranslate"><span class="pre">TwoChargedPunctures</span></code></a>) – Two punctures for which the grid has to be created.</p></li>
<li><p><strong>points_on_horizon_radius</strong> (<em>int</em>) – Desired number of grid points on the
radius of the smaller horizon.</p></li>
<li><p><strong>minimum_outer_boundary</strong> (<em>float</em>) – Minimum outer boundary that the grid has
to have</p></li>
<li><p><strong>cfl_num</strong> (<em>float</em>) – CFL factor for the finest refinement level</p></li>
<li><p><strong>horizon_padding_points</strong> (<em>int</em>) – Add this number of points to the innermost
refinement level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Grid built on top of the given two punctures.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="jhuki.grid.set_dt_max">
<code class="sig-prename descclassname"><span class="pre">jhuki.grid.</span></code><code class="sig-name descname"><span class="pre">set_dt_max</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jhuki/grid.html#set_dt_max"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jhuki.grid.set_dt_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a> with maximum timestep smaller than
the given one. This is achieved by changing the parameter
<cite>~.num_levels_with_dt_coarse</cite>.</p>
<p>This function is smart enough to preserve existing synced levels, so you can
apply it as many times as you want (for diverse conditions).</p>
<p>This function is very important! Several equations have a maximum timestep
allowed for numerical stability (e.g., the shift gauge evolution equation
and its parameter eta_beta).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_center</strong> (<a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a>) – Grid that has to be adjusted.</p></li>
<li><p><strong>dt_max</strong> (<em>float</em>) – Maximum allowed timestep.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New grid with maximum timestep smaller than <code class="docutils literal notranslate"><span class="pre">dt_max</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#jhuki.grid.RefinementCenter" title="jhuki.grid.RefinementCenter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RefinementCenter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="jhuki.grid.set_dt_max_grid">
<code class="sig-prename descclassname"><span class="pre">jhuki.grid.</span></code><code class="sig-name descname"><span class="pre">set_dt_max_grid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jhuki/grid.html#set_dt_max_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jhuki.grid.set_dt_max_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a> with maximum timestep smaller than
the given one.</p>
<p>This is achieved by applying <a class="reference internal" href="#jhuki.grid.set_dt_max" title="jhuki.grid.set_dt_max"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_dt_max()</span></code></a> to each refinement
center.</p>
<p>This function is very important! Several equations have a maximum timestep
allowed for numerical stability (e.g., the shift gauge evolution equation
and its parameter eta_beta).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a>) – Grid that has to be adjusted.</p></li>
<li><p><strong>dt_max</strong> (<em>float</em>) – Maximum timestep allowed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Grid with maximum timestep smaller than the given one.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#jhuki.grid.Grid" title="jhuki.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grid</span></code></a></p>
</dd>
</dl>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="parfile_ref.html"
                        title="previous chapter">Reference on jhuki.parfile</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="simfactory_ref.html"
                        title="next chapter">Reference on jhuki.simfactory</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simfactory_ref.html" title="Reference on jhuki.simfactory"
             >next</a> |</li>
        <li class="right" >
          <a href="parfile_ref.html" title="Reference on jhuki.parfile"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jhuki 0.1.0-dev7 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Reference on jhuki.grid</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Gabriele Bozzola.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.4.
    </div>
  </body>
</html>